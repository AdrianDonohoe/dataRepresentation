<!DOCTYPE html>
<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <title>Lab3 read a simple json AJAX</title>
    </head>
    <body>
        <button onclick="readJSON()">Click Me</button>
        <div id="euro"></div>
        <div id="dollar"></div>
        <div id="pound"></div>
    </body>
    <script>
        function readJSON(){
            $.ajax({"url": "https://api.coindesk.com/v1/bpi/currentprice.json ",
            "method":"GET",
            "data":"",
            "dataType": "JSON",
            "success":function(result){
                //console.log(result);
                var euroRate = result.bpi.EUR.rate
                var dollarRate = result.bpi.USD.rate
                var poundRate = result.bpi.GBP.rate
                //console.log(rate)
                document.getElementById("euro").innerText = "Euro rate is : " + euroRate
                document.getElementById("dollar").innerText = "Dollar rate is : " + dollarRate
                document.getElementById("pound").innerText = "Pound rate is : " + poundRate
                },
            "error":function(xhr,status,error){
                        console.log("error: "+status+" msg:"+error);
                    }});
            
        }
    </script>
</html>